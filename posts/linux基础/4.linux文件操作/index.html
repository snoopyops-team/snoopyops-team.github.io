<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="Linux文件操作 - https://www.snoopyops.top/posts/linux%E5%9F%BA%E7%A1%80/4.linux%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/">
    <meta name="author" content="snoopy - https://www.snoopyops.top/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>Linux文件操作</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css" />
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" />
    
    <link rel="stylesheet" href="https://www.snoopyops.top/style.min.6bbccf0916939df698171c34d30f896276712c30bd56be0d7fd8023e1b00c3d9.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?080713f769977324f1fbafc95c5fa4c6";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body class="active-animate cool">
        <div class="cool-before" style="background: url('/imgs/bg/foxgirl.jpg') center center/cover no-repeat fixed;"></div>
        <div id="readmore-container">
            <div id="header" class=""><div class="container-header">
    
    
    <div class="right">
        
        <h1 class="title">Linux文件操作</h1>
    
        
            
            <div id="toc">📜</div>
        
    </div>
</div>
</div>
            <div id="content">










<div class="container-main container-page ">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2023-05-21&nbsp;&nbsp;&nbsp;
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2023-12-23&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            7660 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            16 分钟</span>
            <div class="container-ctgtag">
	<div class="taxonomy">
		<div class="tag">
			
			
			<a href="/tags/linux%E5%9F%BA%E7%A1%80">Linux基础</a>
			
		</div>
	</div>
</div>
        
    </div>
    
    <div class="toc">
        <div class="container-page-operation">
	<div class="page-operation">
		<div><a href="/"><img src="/imgs/icons/home-2.svg" alt=""></a></div>
		<div><a href="/nav"><img src="/imgs/icons/iov-navigate-1.svg" alt=""></a></div>
		<div><a href="/tags"><img src="/imgs/icons/treetags.svg" alt=""></a></div>
		<div id="light-dark"><a><img src="/imgs/icons/moon2.svg" alt=""></a></div>
		<div><a href="#"><img src="/imgs/icons/up2.svg" alt=""></a></div>
	</div>
</div>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#路径切换">路径切换</a></li>
    <li><a href="#文件操作">文件操作</a>
      <ul>
        <li><a href="#mkdir命令">mkdir命令</a></li>
        <li><a href="#touch命令">touch命令</a></li>
        <li><a href="#mv命令">mv命令</a></li>
        <li><a href="#rm命令">rm命令</a></li>
        <li><a href="#cp命令">cp命令</a></li>
      </ul>
    </li>
    <li><a href="#查看与过滤">查看与过滤</a>
      <ul>
        <li><a href="#cat命令">cat命令</a></li>
        <li><a href="#less命令">less命令</a></li>
        <li><a href="#more命令">more命令</a></li>
        <li><a href="#head命令">head命令</a></li>
        <li><a href="#tail命令">tail命令</a></li>
        <li><a href="#grep命令">grep命令</a></li>
      </ul>
    </li>
    <li><a href="#下载与上传">下载与上传</a>
      <ul>
        <li><a href="#wget命令">wget命令</a></li>
        <li><a href="#curl命令">curl命令</a></li>
        <li><a href="#rz-sz命令">rz sz命令</a></li>
      </ul>
    </li>
    <li><a href="#查看文件类型">查看文件类型</a>
      <ul>
        <li><a href="#ls命令">ls命令</a></li>
        <li><a href="#file命令">file命令</a></li>
      </ul>
    </li>
    <li><a href="#硬链接和软链接">硬链接和软链接</a>
      <ul>
        <li><a href="#硬链接">硬链接</a></li>
        <li><a href="#软链接">软链接</a></li>
        <li><a href="#软链接应用场景">软链接应用场景</a></li>
        <li><a href="#软链接和硬链接的区别">软链接和硬链接的区别</a></li>
      </ul>
    </li>
    <li><a href="#命令查找">命令查找</a>
      <ul>
        <li><a href="#which命令">which命令</a></li>
        <li><a href="#whereis命令">whereis命令</a></li>
        <li><a href="#type命令">type命令</a></li>
      </ul>
    </li>
    <li><a href="#文件内容处理">文件内容处理</a>
      <ul>
        <li><a href="#sort命令">sort命令</a></li>
        <li><a href="#uniq命令">uniq命令</a></li>
        <li><a href="#cut命令">cut命令</a></li>
        <li><a href="#awk命令">awk命令</a></li>
        <li><a href="#wc命令">wc命令</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  '>
        <p>本章节，我们将认识 <code>Linux</code> 系统中常用的文件操作相关命令。</p>
<h2 id="路径切换">路径切换</h2>
<p>我们可以通过<code>cd</code> 命令切换目录。</p>
<p><code>cd</code>命令常用的参数如下:</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>cd ~</td>
<td>切换回当前用户的家目录，注意：root和普通用户有所不同。</td>
</tr>
<tr>
<td>cd .</td>
<td>代表当前目录，一般在拷贝、移动等情况下使用，如：cp /etc/hostname ./</td>
</tr>
<tr>
<td>cd ..</td>
<td>切换回当前目录的上级目录。</td>
</tr>
<tr>
<td>cd -</td>
<td>切换回上一次所在的目录。</td>
</tr>
</tbody>
</table>
<p>例：</p>
<p>进入<code>/etc/sysconfig/network-scripts/</code>目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cd /etc/sysconfig/network-scripts/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>回到家目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost network-scripts<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cd</span>
</span></span><span style="display:flex;"><span>或
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost network-scripts<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cd ~</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>回到上次所在的目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cd -</span>
</span></span><span style="display:flex;"><span>/etc/sysconfig/network-scripts
</span></span></code></pre></td></tr></table>
</div>
</div><p>回到上级目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cd ..</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>文件路径是指用来标识文件中数据位置的字符串，路径包文件所在的位置以文件名称，比如: <code>/etc/hostname</code>。</p>
<p><strong>绝对路径</strong>：只要是以<code>/</code>开始的命令都算绝对路径。例如：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ls /etc/sysconfig/network-scripts/ifcfg-ens32</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>相对路径</strong>：相对于当前目录的路径。例如：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost sysconfig<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat network-scripts/ifcfg-ens32 </span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="文件操作">文件操作</h2>
<p>文件操作主要包括文件的创建、复制、移动、删除等。</p>
<h3 id="mkdir命令">mkdir命令</h3>
<p><code>mkdir</code>命令用于创建目录。以下<code>mkdir</code>常用参数及说明：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-p</td>
<td>递归创建目录。</td>
</tr>
</tbody>
</table>
<p>创建一个名称为<code>snoopy</code>目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mkdir snoopy</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>同时创建多个目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mkdir snoopy1 snoopy2 snoopy3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>创建<code>snoopy-1</code>到<code>snoopy-50</code>的目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mkdir snoopy-{1..50}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>递归创建目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mkdir -p /opt/nginx/log</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>利用<code>{  }</code>灵活创建目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mkdir /opt/nginx/{conf,cert,bin} </span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ls /opt/nginx/</span>
</span></span><span style="display:flex;"><span>cert  conf  iplist.txt  log
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="touch命令">touch命令</h3>
<p><code>touch</code>命令用于创建一个文件。如：创建一个名为<code>test.tx</code>t的文件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># touch test.txt</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="mv命令">mv命令</h3>
<p>在<code>Linux</code>中，移动文件和对文件重命名都是通过<code>mv</code>命令实现的。</p>
<p>把<code>test.txt</code>移动到<code>snoopy-1</code>目录中。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mv test.txt snoopy-1/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>把<code>dir-1</code>中的<code>test.txt</code>移动到<code>snoopy-2</code>目录下，并重命名为<code>test2.txt</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mv snoopy-1/test.txt snoopy-2/test2.txt</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>把<code>test2.txt</code>重命名为<code>test3.txt</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost dir-2<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mv test2.txt test3.txt</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>把<code>snoopy-1</code>、<code>snoopy-2</code> 和 <code>snoopy-3</code> 移动到 <code>snoopy-4</code> 中。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># mv snoopy-1 snoopy-2 snoopy-3 snoopy-4</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ls snoopy-4</span>
</span></span><span style="display:flex;"><span>snoopy-1  snoopy-2  snoopy-3
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="rm命令">rm命令</h3>
<p>我们可以通过<code>rm</code>命令删除文件或者目录，<code>rm</code>命令常用的选项如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-f</td>
<td>强制删除，没有提示。</td>
</tr>
<tr>
<td style="text-align:center">-r</td>
<td>递归删除，删除目录时必须加r。</td>
</tr>
</tbody>
</table>
<p>强制删除<code>test3.txt</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost snoopy-2<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># rm -f test3.txt</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>删除目录</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 不加-r选项，删除失败</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost snoopy-4<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># rm snoopy-1/</span>
</span></span><span style="display:flex;"><span>rm: cannot remove ‘snoopy-1/’: Is a directory
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost snoopy-4<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># rm -r snoopy-1/</span>
</span></span><span style="display:flex;"><span>rm: remove directory ‘snoopy-1/’? y
</span></span></code></pre></td></tr></table>
</div>
</div><p>删除所有以<code>snoopy-</code>开头的目录</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># rm -rf snoopy-*</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="cp命令">cp命令</h3>
<p>我们可以通过<code>cp</code>命令实现文件或目录的复制，<code>cp</code>常用的选项如下表:</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-r</td>
<td>递归拷贝，拷贝目录时必须加r。</td>
</tr>
<tr>
<td style="text-align:center">-v</td>
<td>显示拷贝详细信息。</td>
</tr>
<tr>
<td style="text-align:center">-p</td>
<td>保持文件原有的属性，不发生变化。</td>
</tr>
</tbody>
</table>
<p>把<code>file</code>拷贝到<code>/tmp</code>下，并重命名为<code>file_copy</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cp file /tmp/file_copy</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll /tmp/</span>
</span></span><span style="display:flex;"><span>total <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>-rw-r--r--. <span style="color:#099">1</span> root root <span style="color:#099">0</span> Jul <span style="color:#099">29</span> 10:34 file_copy
</span></span></code></pre></td></tr></table>
</div>
</div><p>递归拷贝。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cp -rv /etc/ ./</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>把 <code>/etc</code>、<code>opt</code>和<code>file</code>复制到<code>/mnt</code>目录下。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cp -rf /etc/ /opt/ file  /mnt/</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ls /mnt/</span>
</span></span><span style="display:flex;"><span>etc  file  opt
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>-p</code>参数用于保持在复制过程中，文件的原有属性不变。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll</span>
</span></span><span style="display:flex;"><span>total <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 文件权限为rw-r--r--</span>
</span></span><span style="display:flex;"><span>-rw-r--r--.  <span style="color:#099">1</span> root root    <span style="color:#099">0</span> Nov  <span style="color:#099">6</span> 23:02 file
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 更改文件的权限</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># chmod  777 file </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 更改文件的所属关系</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># chown adm:adm file </span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll</span>
</span></span><span style="display:flex;"><span>total <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 修改后的文件属性</span>
</span></span><span style="display:flex;"><span>-rwxrwxrwx.  <span style="color:#099">1</span> adm  adm     <span style="color:#099">0</span> Nov  <span style="color:#099">6</span> 23:02 file
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 将文件复制到/tmp目录下</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cp file  /tmp/</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 保持文件的原有属性不变，复制文件到/tmp下，并重命名为file1</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cp -p file /tmp/file1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll /opt</span>
</span></span><span style="display:flex;"><span>total <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 不加-p参数，复制过程中，文件属性发生了变化</span>
</span></span><span style="display:flex;"><span>-rwxr-xr-x. <span style="color:#099">1</span> root root   <span style="color:#099">0</span> Nov  <span style="color:#099">6</span> 23:06 file
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 加上-p参数，复制过程中，文件的属性不发生改变</span>
</span></span><span style="display:flex;"><span>-rwxrwxrwx. <span style="color:#099">1</span> adm  adm    <span style="color:#099">0</span> Nov  <span style="color:#099">6</span> 23:02 file1
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们也可以通过<code>{ }</code>去复制文件。</p>
<p>将<code>test.txt</code>复制一份<code>test.txt.bak</code>，<code>-v</code>显示复制过程。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cp {test.txt,test.txt.bak} -v</span>
</span></span><span style="display:flex;"><span>‘test.txt’ -&gt; ‘test.txt.bak’
</span></span></code></pre></td></tr></table>
</div>
</div><p>将<code>ifcfg-ens32</code>复制一份，命名为<code>ifcfg-ens32.bak</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cp /etc/sysconfig/network-scripts/{ifcfg-ens32,ifcfg-ens32.bak}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ls /etc/sysconfig/network-scripts/ifcfg-e*</span>
</span></span><span style="display:flex;"><span>/etc/sysconfig/network-scripts/ifcfg-ens32
</span></span><span style="display:flex;"><span>/etc/sysconfig/network-scripts/ifcfg-ens32.bak
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="查看与过滤">查看与过滤</h2>
<h3 id="cat命令">cat命令</h3>
<p>我们可以通过<code>cat</code>命令查看文件全部内容，常用的选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>查看文件时，显示行号。</td>
</tr>
<tr>
<td style="text-align:center">-A</td>
<td>查看文件时，显示特殊字符。</td>
</tr>
</tbody>
</table>
<p>查看<code>pass</code>文件内容。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat passwd</span>
</span></span><span style="display:flex;"><span>root:x:0:0:root:/root:/bin/bash
</span></span><span style="display:flex;"><span>bin:x:1:1:bin:/bin:/sbin/nologin
</span></span><span style="display:flex;"><span>daemon:x:2:2:daemon:/sbin:/sbin/nologin
</span></span><span style="display:flex;"><span>test17:x:1016:1016::/home/test17:/bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看<code>pass</code>文件内容并显示行号。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat -n passwd</span>
</span></span><span style="display:flex;"><span>1	root:x:0:0:root:/root:/bin/bash
</span></span><span style="display:flex;"><span>2	bin:x:1:1:bin:/bin:/sbin/nologin
</span></span><span style="display:flex;"><span>3	daemon:x:2:2:daemon:/sbin:/sbin/nologin
</span></span><span style="display:flex;"><span>4	test17:x:1016:1016::/home/test17:/bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看<code>pass</code>文件内容并显示特殊字符。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat -A passwd</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 行尾$表示换行</span>
</span></span><span style="display:flex;"><span>root:x:0:0:root:/root:/bin/bash$
</span></span><span style="display:flex;"><span>bin:x:1:1:bin:/bin:/sbin/nologin$
</span></span><span style="display:flex;"><span>daemon:x:2:2:daemon:/sbin:/sbin/nologin$
</span></span><span style="display:flex;"><span>adm:x:3:4:adm:/var/adm:/sbin/nologin$
</span></span></code></pre></td></tr></table>
</div>
</div><p>用<code>cat</code>创建一个文件，并写入内容。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat &gt;&gt; test.txt &lt;&lt;EOF</span>
</span></span><span style="display:flex;"><span>TEST1
</span></span><span style="display:flex;"><span>TEST2
</span></span><span style="display:flex;"><span>TEST3
</span></span><span style="display:flex;"><span>EOF
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat test.txt</span>
</span></span><span style="display:flex;"><span>TEST1
</span></span><span style="display:flex;"><span>TEST2
</span></span><span style="display:flex;"><span>TEST3
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="less命令">less命令</h3>
<p>翻页查看文件内容，可通过方向/空格/回车键翻页。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># less /etc/services</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="more命令">more命令</h3>
<p>翻页查看文件内容，可通过空格/回车键翻页，并显示百分比。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># more /etc/services</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="head命令">head命令</h3>
<p><code>head</code>命令用于打印前<code>n</code>行，常用的选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>打印的行数。</td>
</tr>
</tbody>
</table>
<p>使用<code>head</code>命令，不加任何参数，默认只打印前十行的内容。</p>
<p>打印<code>pass</code>前3行内容，等同于<code>head -n 3 pass</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># head -3 pass </span>
</span></span><span style="display:flex;"><span>root:x:0:0:root:/root:/bin/bash
</span></span><span style="display:flex;"><span>bin:x:1:1:bin:/bin:/sbin/nologin
</span></span><span style="display:flex;"><span>daemon:x:2:2:daemon:/sbin:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="tail命令">tail命令</h3>
<p><code>tail</code>命令用于显示文本的末尾几行，常用的选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>打印的行数。</td>
</tr>
<tr>
<td style="text-align:center">-f</td>
<td>查看文件尾部新追加的内容。</td>
</tr>
</tbody>
</table>
<p><code>tail</code>默认打印文本的末尾10行，若需指定打印行数，可以通过<code>-n</code>实现，如打印文件的后<code>3</code>行内容。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># tail -3 passwd</span>
</span></span><span style="display:flex;"><span>polkitd:x:999:998:User <span style="color:#000;font-weight:bold">for</span> polkitd:/:/sbin/nologin
</span></span><span style="display:flex;"><span>sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
</span></span><span style="display:flex;"><span>postfix:x:89:89::/var/spool/postfix:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用<code>tail -f</code>可以查看文件尾部的变化。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># tail -f /var/log/secure</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 等同于 tailf /var/log/secure</span>
</span></span><span style="display:flex;"><span>Jul <span style="color:#099">29</span> 14:05:54 localhost sshd<span style="color:#000;font-weight:bold">[</span>8613<span style="color:#000;font-weight:bold">]</span>: error: Received disconnect from 10.0.0.1 port 61962:0:
</span></span><span style="display:flex;"><span>Jul <span style="color:#099">29</span> 14:05:54 localhost sshd<span style="color:#000;font-weight:bold">[</span>8613<span style="color:#000;font-weight:bold">]</span>: Disconnected from 10.0.0.1 port <span style="color:#099">61962</span>
</span></span><span style="display:flex;"><span>Jul <span style="color:#099">29</span> 14:05:54 localhost sshd<span style="color:#000;font-weight:bold">[</span>8613<span style="color:#000;font-weight:bold">]</span>: pam_unix<span style="color:#000;font-weight:bold">(</span>sshd:session<span style="color:#000;font-weight:bold">)</span>: session closed <span style="color:#000;font-weight:bold">for</span> user root
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="grep命令">grep命令</h3>
<p>我们可以通过<code>grep</code>命令对文本进行过滤，常用的选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>显示行符。</td>
</tr>
<tr>
<td style="text-align:center">-v</td>
<td>反转查找。</td>
</tr>
<tr>
<td style="text-align:center">-i</td>
<td>不区分大小写过滤文件。</td>
</tr>
<tr>
<td style="text-align:center">-E</td>
<td>多条件过滤。</td>
</tr>
<tr>
<td style="text-align:center">-A</td>
<td>匹配后，再向下打印。</td>
</tr>
<tr>
<td style="text-align:center">-B</td>
<td>匹配后，再向上打印。</td>
</tr>
</tbody>
</table>
<p>过滤文件常用的符号。</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">^</td>
<td>表示以什么开头。</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td>表示以什么结尾。</td>
</tr>
<tr>
<td style="text-align:center">^$</td>
<td>表示空行。</td>
</tr>
</tbody>
</table>
<p>过滤文中含有<code>root</code>的相关的行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep &#34;root&#34; passwd</span>
</span></span><span style="display:flex;"><span>root:x:0:0:root:/root:/bin/bash
</span></span><span style="display:flex;"><span>operator:x:11:0:operator:/root:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><p>过滤以<code>root</code>开头的行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep &#34;^root&#34; passwd</span>
</span></span><span style="display:flex;"><span>root:x:0:0:root:/root:/bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>过滤以<code>bash</code>结尾的行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep &#34;bash$&#34; passwd</span>
</span></span><span style="display:flex;"><span>root:x:0:0:root:/root:/bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>过滤并显示行符。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep -n &#34;bash&#34; passwd</span>
</span></span><span style="display:flex;"><span>1:root:x:0:0:root:/root:/bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用<code>grep</code>匹配后，再向下打印，如匹配到<code>root</code>后在向下打印两行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep -n -A 2 &#34;root&#34; passwd</span>
</span></span><span style="display:flex;"><span>1:root:x:0:0:root:/root:/bin/bash
</span></span><span style="display:flex;"><span>2-bin:x:1:1:bin:/bin:/sbin/nologin
</span></span><span style="display:flex;"><span>3-daemon:x:2:2:daemon:/sbin:/sbin/nologin
</span></span><span style="display:flex;"><span>--
</span></span><span style="display:flex;"><span>10:operator:x:11:0:operator:/root:/sbin/nologin
</span></span><span style="display:flex;"><span>11-games:x:12:100:games:/usr/games:/sbin/nologin
</span></span><span style="display:flex;"><span>12-ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用<code>grep</code>匹配后，再向上打印，如匹配到<code>root</code>后，再向上打印两行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep -n -B 2 &#34;root&#34; passwd</span>
</span></span><span style="display:flex;"><span>1:root:x:0:0:root:/root:/bin/bash
</span></span><span style="display:flex;"><span>--
</span></span><span style="display:flex;"><span>8-halt:x:7:0:halt:/sbin:/sbin/halt
</span></span><span style="display:flex;"><span>9-mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
</span></span><span style="display:flex;"><span>10:operator:x:11:0:operator:/root:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用<code>grep</code>匹配后，再向上和向下打印，如匹配到<code>root</code>后，再向上和向下各打印两行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep -n -C 2 &#34;root&#34; passwd</span>
</span></span><span style="display:flex;"><span>1:root:x:0:0:root:/root:/bin/bash
</span></span><span style="display:flex;"><span>2-bin:x:1:1:bin:/bin:/sbin/nologin
</span></span><span style="display:flex;"><span>3-daemon:x:2:2:daemon:/sbin:/sbin/nologin
</span></span><span style="display:flex;"><span>--
</span></span><span style="display:flex;"><span>8-halt:x:7:0:halt:/sbin:/sbin/halt
</span></span><span style="display:flex;"><span>9-mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
</span></span><span style="display:flex;"><span>10:operator:x:11:0:operator:/root:/sbin/nologin
</span></span><span style="display:flex;"><span>11-games:x:12:100:games:/usr/games:/sbin/nologin
</span></span><span style="display:flex;"><span>12-ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><p>筛选出不含<code>ftp</code>的行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep -v &#34;ftp&#34; passwd</span>
</span></span><span style="display:flex;"><span>root:x:0:0:root:/root:/bin/bash
</span></span><span style="display:flex;"><span>bin:x:1:1:bin:/bin:/sbin/nologin
</span></span><span style="display:flex;"><span>daemon:x:2:2:daemon:/sbin:/sbin/nologin
</span></span><span style="display:flex;"><span>adm:x:3:4:adm:/var/adm:/sbin/nologin
</span></span><span style="display:flex;"><span>lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
</span></span><span style="display:flex;"><span>sync:x:5:0:sync:/sbin:/bin/sync
</span></span><span style="display:flex;"><span>shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
</span></span><span style="display:flex;"><span>halt:x:7:0:halt:/sbin:/sbin/halt
</span></span><span style="display:flex;"><span>mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
</span></span><span style="display:flex;"><span>operator:x:11:0:operator:/root:/sbin/nologin
</span></span><span style="display:flex;"><span>games:x:12:100:games:/usr/games:/sbin/nologin
</span></span><span style="display:flex;"><span>nobody:x:99:99:Nobody:/:/sbin/nologin
</span></span><span style="display:flex;"><span>systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin
</span></span><span style="display:flex;"><span>dbus:x:81:81:System message bus:/:/sbin/nologin
</span></span><span style="display:flex;"><span>polkitd:x:999:998:User forf polkitd:/:/sbin/nologin
</span></span><span style="display:flex;"><span>sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
</span></span><span style="display:flex;"><span>postfix:x:89:89::/var/spool/postfix:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><p>不区分大小写过滤出含<code>ftp</code>的行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep -i &#34;ftp&#34; passwd</span>
</span></span><span style="display:flex;"><span>ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><p>不区分大小写的打印出以<code>sync</code>结尾或者包含<code>ftp</code>的行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep -Ei &#34;sync$|ftp&#34; /etc/passwd</span>
</span></span><span style="display:flex;"><span>sync:x:5:0:sync:/sbin:/bin/sync
</span></span><span style="display:flex;"><span>ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="下载与上传">下载与上传</h2>
<h3 id="wget命令">wget命令</h3>
<p><code>wget</code>是一个从网络上自动下载文件的工具，若系统为最小化安装，需要先安装<code>wget</code>命令。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># yum install wget -y</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>wget</code>常用参数如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-O</td>
<td>下载文件到指定目录。</td>
</tr>
</tbody>
</table>
<p>用<code>wget</code>下载<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>到当前目录。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># wget http://mirrors.aliyun.com/repo/Centos-7.repo</span>
</span></span><span style="display:flex;"><span>......
</span></span><span style="display:flex;"><span>100%<span style="color:#000;font-weight:bold">[=========================================</span>&gt;<span style="color:#000;font-weight:bold">]</span> 2,523       --.-K/s   in 0s      
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll</span>
</span></span><span style="display:flex;"><span>-rw-r--r--. <span style="color:#099">1</span> root root <span style="color:#099">2523</span> Jun <span style="color:#099">16</span>  <span style="color:#099">2018</span> Centos-7.repo
</span></span></code></pre></td></tr></table>
</div>
</div><p>将下载<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>到<code>/mnt</code>目录下，保持文件名称不变。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># wget -O /mnt/Centos-7.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 若想保持文件名称不变 ，在下载路径中要指定原名，否则不能下载成功</span>
</span></span><span style="display:flex;"><span>......
</span></span><span style="display:flex;"><span>100%<span style="color:#000;font-weight:bold">[=========================================</span>&gt;<span style="color:#000;font-weight:bold">]</span> 2,523       --.-K/s   in 0s      
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll /mnt/</span>
</span></span><span style="display:flex;"><span>total <span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>-rw-r--r--. <span style="color:#099">1</span> root root <span style="color:#099">2523</span> Jun <span style="color:#099">16</span>  <span style="color:#099">2018</span> Centos-7.repo
</span></span></code></pre></td></tr></table>
</div>
</div><p>将下载<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>到<code>/mnt</code>目录下，并重命名为<code>test.txt</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic">#  wget -O  /mnt/test.txt http://mirrors.aliyun.com/repo/Centos-7.repo</span>
</span></span><span style="display:flex;"><span>......
</span></span><span style="display:flex;"><span>100%<span style="color:#000;font-weight:bold">[=========================================</span>&gt;<span style="color:#000;font-weight:bold">]</span> 2,523       --.-K/s   in 0s      
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll /mnt</span>
</span></span><span style="display:flex;"><span>total <span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>-rw-r--r--. <span style="color:#099">1</span> root root <span style="color:#099">2523</span> Jun <span style="color:#099">16</span>  <span style="color:#099">2018</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="curl命令">curl命令</h3>
<p><code>curl</code>命令是一个用于发送<code>HTTP</code>请求的命令行工具，可以用于获取、上传、发送各种类型的<code>HTTP</code>请求。常用参数如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-I</td>
<td>获取HTTP响应头</td>
</tr>
<tr>
<td style="text-align:center">-o</td>
<td>下载文件到指定目。</td>
</tr>
</tbody>
</table>
<p>用<code>curl</code>查看<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>内容。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># curl http://mirrors.aliyun.com/repo/Centos-7.repo</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>base<span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">name</span><span style="color:#000;font-weight:bold">=</span>CentOS-<span style="color:#008080">$releasever</span> - Base - mirrors.aliyun.com
</span></span><span style="display:flex;"><span><span style="color:#008080">failovermethod</span><span style="color:#000;font-weight:bold">=</span>priority
</span></span><span style="display:flex;"><span><span style="color:#008080">baseurl</span><span style="color:#000;font-weight:bold">=</span>http://mirrors.aliyun.com/centos/<span style="color:#008080">$releasever</span>/os/<span style="color:#008080">$basearch</span>/
</span></span><span style="display:flex;"><span>        http://mirrors.aliyuncs.com/centos/<span style="color:#008080">$releasever</span>/os/<span style="color:#008080">$basearch</span>/
</span></span><span style="display:flex;"><span>        http://mirrors.cloud.aliyuncs.com/centos/<span style="color:#008080">$releasever</span>/os/<span style="color:#008080">$basearch</span>/
</span></span><span style="display:flex;"><span><span style="color:#008080">gpgcheck</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">gpgkey</span><span style="color:#000;font-weight:bold">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
</span></span></code></pre></td></tr></table>
</div>
</div><p>访问<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>，获取请求头信息。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># curl -I http://mirrors.aliyun.com/repo/Centos-7.repo</span>
</span></span><span style="display:flex;"><span>HTTP/1.1 <span style="color:#099">200</span> OK
</span></span><span style="display:flex;"><span>Server: Tengine
</span></span><span style="display:flex;"><span>Content-Type: application/octet-stream
</span></span><span style="display:flex;"><span>Content-Length: <span style="color:#099">2523</span>
</span></span><span style="display:flex;"><span>Connection: keep-alive
</span></span><span style="display:flex;"><span>Date: Sat, <span style="color:#099">18</span> Nov <span style="color:#099">2023</span> 14:34:02 GMT
</span></span><span style="display:flex;"><span>Expires: Sat, <span style="color:#099">18</span> Nov <span style="color:#099">2023</span> 14:37:02 GMT
</span></span><span style="display:flex;"><span>......
</span></span></code></pre></td></tr></table>
</div>
</div><p>用<code>curl</code>下载<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>并保存到<code>/mnt</code>下，并重命名为<code>test.txt</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># curl -o /mnt/test.txt http://mirrors.aliyun.com/repo/Centos-7.repo</span>
</span></span><span style="display:flex;"><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span></span><span style="display:flex;"><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span></span><span style="display:flex;"><span><span style="color:#099">100</span>  <span style="color:#099">2523</span>  <span style="color:#099">100</span>  <span style="color:#099">2523</span>    <span style="color:#099">0</span>     <span style="color:#099">0</span>  <span style="color:#099">18920</span>      <span style="color:#099">0</span> --:--:-- --:--:-- --:--:-- <span style="color:#099">18969</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll /mnt/</span>
</span></span><span style="display:flex;"><span>total <span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>-rw-r--r--. <span style="color:#099">1</span> root root <span style="color:#099">2523</span> Jul <span style="color:#099">30</span> 09:58 test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p>通常情况下，下载文件使用<code>wget</code>命令，但是最小化安装系统默认不安装<code>wget</code>，可以使用<code>curl</code>下载。</p>
<h3 id="rz-sz命令">rz sz命令</h3>
<p><strong>rz命令</strong></p>
<p><code>lrzsz</code>是一个在<code>Linux</code>系统中进行文件传输的工具集合，由<code>rz</code>和<code>sz</code>两个命令组成，主要作用是通过终端在本地系统和远程系统之间进行文件传输，特别适用于与远程服务器进行文件交互。安装命令如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># yum install lrzsz</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>rz</code>用于从本地电脑上传文件至<code>Linux</code>服务器上。只能上传文件，不支持上传文件夹和断点续传。且不支持上传大于<code>4G</code>的文件，若上传超过<code>4G</code>的文件，需要通过其他方式实现。</p>
<p>终端直接执行<code>rz</code>命令即可。</p>
<p><strong>sz命令</strong></p>
<p><code>sz</code>用于从<code>Linux</code>服务器上下载文件至<code>Windows</code>上，不支持下载文件夹。其格式为<code>sz</code> + 文件名称，如</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># sz /etc/passwd</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="查看文件类型">查看文件类型</h2>
<h3 id="ls命令">ls命令</h3>
<p>我们可通过<code>ls</code>命令查看文件属性。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll -d /etc/hosts /tmp /bin/ls /dev/sda /dev/tty1 /etc/grub2.cfg /dev/log</span>
</span></span><span style="display:flex;"><span>-rwxr-xr-x. <span style="color:#099">1</span> root root <span style="color:#099">117608</span> Aug <span style="color:#099">20</span>  <span style="color:#099">2019</span> /bin/ls
</span></span><span style="display:flex;"><span>srw-rw-rw-. <span style="color:#099">1</span> root root      <span style="color:#099">0</span> Nov  <span style="color:#099">5</span> 23:06 /dev/log
</span></span><span style="display:flex;"><span>brw-rw----. <span style="color:#099">1</span> root disk   8, <span style="color:#099">0</span> Nov  <span style="color:#099">5</span> 23:06 /dev/sda
</span></span><span style="display:flex;"><span>crw--w----. <span style="color:#099">1</span> root tty    4, <span style="color:#099">1</span> Nov  <span style="color:#099">6</span> 22:16 /dev/tty1
</span></span><span style="display:flex;"><span>lrwxrwxrwx. <span style="color:#099">1</span> root root     <span style="color:#099">22</span> Nov  <span style="color:#099">5</span> 23:03 /etc/grub2.cfg -&gt; ../boot/grub2/grub.cfg
</span></span><span style="display:flex;"><span>-rw-r--r--. <span style="color:#099">1</span> root root    <span style="color:#099">158</span> Jun  <span style="color:#099">7</span>  <span style="color:#099">2013</span> /etc/hosts
</span></span><span style="display:flex;"><span>drwxrwxrwt. <span style="color:#099">7</span> root root    <span style="color:#099">132</span> Nov  <span style="color:#099">6</span> 22:26 /tmp
</span></span></code></pre></td></tr></table>
</div>
</div><p>各列输出含义</p>
<p>第一列：文件的类型和权限。</p>
<p>第二列：对于目录文件，表示它的第一级子目录的个数。此处看到的值要减<code>2</code>才等于该目录下的子目录的实际个数，因为这个数值统计了<code>.</code>和<code>..</code>目录。对于其他文件，表示指向它的链接文件的个数。</p>
<p>第三四列：所有者及组。</p>
<p>第五列：对于文件，则表示该文件的大小，单位为字节。对于目录，则表示该目录符所占的大小，并不表示该目录下所有文件的大小。</p>
<p>第六-八列：该文件最后修改的日期时间。</p>
<p>第九列：文件名称。</p>
<p>文件颜色含义：</p>
<ul>
<li>灰白色表示普通文件。</li>
<li>亮绿色表示可执行文件。</li>
<li>亮红色表示压缩文件。</li>
<li>灰蓝色表示目录。</li>
<li>亮蓝色表示链接文件。</li>
<li>亮黄色表示设备文件。</li>
</ul>
<p>第一列<code>srw-rw-rw-</code>首个字符表示文件的类型。</p>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-</td>
<td>文件。</td>
</tr>
<tr>
<td style="text-align:center">d</td>
<td>目录，类似于Windows的文件夹。</td>
</tr>
<tr>
<td style="text-align:center">l</td>
<td>链接文件，类似于Windows的快捷方式。</td>
</tr>
<tr>
<td style="text-align:center">s</td>
<td>socket，套接字文件，可实现进程间的通信。</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td>block块设备文件，例如光盘、硬盘、分区等。</td>
</tr>
<tr>
<td style="text-align:center">c</td>
<td>字符设备，用于提供用户的输入和输出。</td>
</tr>
</tbody>
</table>
<h3 id="file命令">file命令</h3>
<p><code>file</code>命令是一个用于查看文件类型的命令，它可以检测文件的类型，并显示该文件的信息。</p>
<p>查看文件的类型。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># file anaconda-ks.cfg  tp.jpeg test.zip  process_exporter_install.sh</span>
</span></span><span style="display:flex;"><span>anaconda-ks.cfg:             ASCII text
</span></span><span style="display:flex;"><span>tp.jpeg:                     JPEG image data, JFIF standard 1.01
</span></span><span style="display:flex;"><span>test.zip:                    Zip archive data, at least v2.0 to extract
</span></span><span style="display:flex;"><span>process_exporter_install.sh: Bourne-Again shell script, UTF-8 Unicode text executable
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="硬链接和软链接">硬链接和软链接</h2>
<p>在<code>Linux</code>系统中，我们可以把一个文件看做文件名、文件内容和描述信息三个部分组成。</p>
<p><strong>文件名</strong>：从用户角度来描述一个文件。</p>
<p><strong>文件内容</strong>：文件中存储的数据，系统会从硬盘上划分一块区域，用来存放文件本身的内容(数据)，这块区域按照一个最小单位块(<code>block</code>)来进行划分。</p>
<p><strong>描述信息</strong>：文件的类型、所有者、创建时间等等，也称之为元信息。每一个文件的描述信息，都用一个名为索引节点(<code>inode</code>)的数据结构来表示。</p>
<p>一个文件的索引节点(<code>inode</code>)中，除了记录了这个文件的所有描述信息，包括：文件类型、所有者、创建时间等，当然也记录了文件内容存储在硬盘的哪些块(<code>block</code>)中。</p>
<p>当我们打开文件时候，操作系统首先根据传入的文件路径，找到这个文件的<code>inode</code>，然后进行一系列的权限检查操作，最后从<code>inode</code>中获得这个文件的内容存储在哪些块(<code>block</code>)中，从而可以对文件的内容进行读取、写入操作。
当我们创建一个新文件的时候，就同时创建了这个文件对应的<code>inode</code>节点。
当我们删除一个文件的时候，就同时删除了这个文件对应的<code>inode</code>节点。文件本身内容所在的那个块中，数据并不会被抹除掉，因此有些数据恢复软件就是利用这个特点来进行数据找回。</p>
<h3 id="硬链接">硬链接</h3>
<p>多个文件名同时指向同一个索引节点（<code>Inode</code>），就是<strong>硬链接</strong>。<code>inode</code>通过<code>links</code>字段表示指<code>inode</code>的硬链接数量，当<code>links</code>为<code>0</code>时，操纵系统就会把这个 <code>inode</code> 删除了，于是这个文件就彻底不存在了。</p>
<p><img src="https://images.snoopyops.top/hard_link.jpg" alt="硬链接"></p>
<p>我们可以通过<code>ln</code>命令创建连接。</p>
<p>准备一个测试文件，此时<code>links</code>为<code>1</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat a.txt</span>
</span></span><span style="display:flex;"><span>snoopyops.top
</span></span></code></pre></td></tr></table>
</div>
</div><p>创建硬链接，此时<code>links</code>为<code>2</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ln a.txt a_hard_link.txt</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看文件，这两个文件就如同一个文件一样，<code>inode</code> 值相同，都指向同一个区块。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll -i</span>
</span></span><span style="display:flex;"><span><span style="color:#099">100682319</span> -rw-r--r--. <span style="color:#099">2</span> root    root          <span style="color:#099">8</span> 5月  <span style="color:#099">23</span> 14:59 a_hard_link.txt
</span></span><span style="display:flex;"><span><span style="color:#099">100682319</span> -rw-r--r--. <span style="color:#099">2</span> root    root          <span style="color:#099">8</span> 5月  <span style="color:#099">23</span> 14:59 a.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p>修改文件内容，两个文件均发生变化。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># echo &#34;New line&#34; &gt;&gt; a_hard_link.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat a.txt</span>
</span></span><span style="display:flex;"><span>snoopyops.top
</span></span><span style="display:flex;"><span>New line
</span></span></code></pre></td></tr></table>
</div>
</div><p>删除源文件后，此时<code>links</code>变为<code>1</code>，通过硬链接的文件名依然可以找到数据。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># rm a.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat a_hard_link.txt</span>
</span></span><span style="display:flex;"><span>snoopyops.top
</span></span><span style="display:flex;"><span>New line
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>硬链接作用</strong></p>
<p>该机制可以有效的防止误删操作。</p>
<p><strong>硬链接的限制</strong></p>
<ul>
<li>
<p>不允许用户给目录创建硬链接，但操作系统可以(比如<code>.</code>和<code>..</code>)。</p>
</li>
<li>
<p>只有在同一个文件系统中的文件，才能创建硬链接，也就是说：不能跨文件系统。</p>
</li>
</ul>
<h3 id="软链接">软链接</h3>
<p>相当于<code>Windows</code>中的快捷方式。通过<code>ln</code>命令和<code>-s</code>选项，可实现软链接的创建。</p>
<p>软链接文件的内容是一个文本字符串，存储的是目标文件(即：链接到的文件)的路径名。这个路径名可以指向任意一个文件系统的任意文件或者目录，甚至可以指向一个不存在的文件。</p>
<p>与创建硬链接不同的是：当我们创建了一个软链接之后，操作系统会创建一个新的<code>inode</code>来表示这个软链接文件。</p>
<p><img src="https://images.snoopyops.top/soft_link.jpg" alt="软链接"></p>
<p>准备一个测试文件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat a.txt</span>
</span></span><span style="display:flex;"><span>snoopyops.top
</span></span></code></pre></td></tr></table>
</div>
</div><p>创建软链接。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ln -s a.txt a_soft_link.txt</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看文件，<code>inode</code> 值不同，指向不同的区块。</p>
<pre tabindex="0"><code class="language-shll" data-lang="shll">[root@localhost ~]# ll -i
100682318 lrwxrwxrwx. 1 root    root          8 5月  23 15:11 ta_soft_link.txt -&gt; a.txt
100682319 -rw-r--r--. 1 root    root          8 5月  23 15:09 a.txt
</code></pre><p>修改软链接文件时，操作系统就根据其中的路径信息，找到 <code>a.txt</code> 的 <code>inode</code> 节点，从而对最终的目标文件进行操作。</p>
<pre tabindex="0"><code class="language-shll" data-lang="shll">[root@localhost ~]# echo &#34;New line&#34; &gt;&gt; a_soft_link.txt
[root@localhost ~]# cat a.txt
snoopyops.top
New line
</code></pre><p>删除源文件后，软链接失效。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># rm a.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat a_soft_link.txt</span>
</span></span><span style="display:flex;"><span>cat: a_soft_link.txt: No such file or directory
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="软链接应用场景">软链接应用场景</h3>
<ol>
<li>
<p>软件升级与回退。</p>
<p>下载并解压<code>openjdk</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># wget https://repo.huaweicloud.com/openjdk/18/openjdk-18_linux-x64_bin.tar.gz</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># tar xf openjdk-18_linux-x64_bin.tar.gz</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>创建软链接。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ln -s /opt/jdk-18/bin/java /usr/local/bin/java</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ll /usr/local/bin/java</span>
</span></span><span style="display:flex;"><span>lrwxrwxrwx. <span style="color:#099">1</span> root root <span style="color:#099">20</span> Nov  <span style="color:#099">7</span> 04:08 /usr/local/bin/java -&gt; /opt/jdk-18/bin/java
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看版本信息。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># java -version</span>
</span></span><span style="display:flex;"><span>openjdk version <span style="color:#d14">&#34;18&#34;</span> 2022-03-22
</span></span><span style="display:flex;"><span>OpenJDK Runtime Environment <span style="color:#000;font-weight:bold">(</span>build 18+36-2087<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>OpenJDK 64-Bit Server VM <span style="color:#000;font-weight:bold">(</span>build 18+36-2087, mixed mode, sharing<span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>升级<code>openjdk</code>。</p>
<p>下载并解压新版本<code>openjdk</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># wget https://repo.huaweicloud.com/openjdk/19/openjdk-19_linux-x64_bin.tar.gz</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># tar xf openjdk-19_linux-x64_bin.tar.gz</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>删除原软链接，并新建软链接，指向新版本的<code>openjdk</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># rm -f /usr/local/bin/java &amp;&amp; ln -s /opt/jdk-19/bin/java /usr/local/bin/java</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看版本信息。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># java -version</span>
</span></span><span style="display:flex;"><span>openjdk version <span style="color:#d14">&#34;19&#34;</span> 2022-09-20
</span></span><span style="display:flex;"><span>OpenJDK Runtime Environment <span style="color:#000;font-weight:bold">(</span>build 19+36-2238<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>OpenJDK 64-Bit Server VM <span style="color:#000;font-weight:bold">(</span>build 19+36-2238, mixed mode, sharing<span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>版本回退。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># rm -f /usr/local/bin/java &amp;&amp; ln -s /opt/jdk-18/bin/java /usr/local/bin/java</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost opt<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># java -version</span>
</span></span><span style="display:flex;"><span>openjdk version <span style="color:#d14">&#34;18&#34;</span> 2022-03-22
</span></span><span style="display:flex;"><span>OpenJDK Runtime Environment <span style="color:#000;font-weight:bold">(</span>build 18+36-2087<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>OpenJDK 64-Bit Server VM <span style="color:#000;font-weight:bold">(</span>build 18+36-2087, mixed mode, sharing<span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>代码上线与回退。</p>
</li>
<li>
<p>移动文件而不改变路径，常用于磁盘容量不足，且大文件路径无法更改的情况。</p>
</li>
</ol>
<h3 id="软链接和硬链接的区别">软链接和硬链接的区别</h3>
<ol>
<li><code>ln</code>命令创建硬链接，<code>ln -s</code>命令创建软链接。</li>
<li>目录不能创建硬链接，并且硬链接不可以跨越分区系统。</li>
<li>目录软链接特别常用，并且软链接支持跨越分区系统。</li>
<li>硬链接文件与源文件<code>inode</code>相同，软链接文件与源文件<code>inode</code>不同。</li>
<li>删除硬链接的源文件，对硬链接无任何影响。</li>
<li>删除软链接的源文件，会导致软链接失效。</li>
</ol>
<h2 id="命令查找">命令查找</h2>
<p><code>PATH</code>变量是一个环境变量，它告诉操作系统在哪里可以找到可执行文件。当您在命令行中输入命令时，操作系统会在<code>PATH</code>变量指定的目录中查找可执行文件。</p>
<p><code>PATH</code>变量由一系列目录组成，每个目录之间用冒号（:）分隔。这些目录是系统默认的，也可以根据需要进行修改。</p>
<p>在<code>Linux</code>中，我们可以通过以下命令查看<code>PATH</code>变量。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># echo $PATH</span>
</span></span><span style="display:flex;"><span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
</span></span></code></pre></td></tr></table>
</div>
</div><p>那么我们如何才能知道我们执行的命令在哪个目录里呢？</p>
<h3 id="which命令">which命令</h3>
<p><code>which</code>可用于查看命令文件的绝对路径及别名。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># which ls</span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">alias</span> <span style="color:#008080">ls</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;ls --color=auto&#39;</span>
</span></span><span style="display:flex;"><span>	/usr/bin/ls
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="whereis命令">whereis命令</h3>
<p><code>whereis</code>可用于查看命令的文件的绝对路径及帮助文档路径。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># whereis ls</span>
</span></span><span style="display:flex;"><span>ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type命令">type命令</h3>
<p><code>type</code>命令是<code>Linux</code>系统的一种机制，用来显示指定命令的类型。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># type ls</span>
</span></span><span style="display:flex;"><span>ls is aliased to <span style="color:#d14">`</span>ls --color<span style="color:#000;font-weight:bold">=</span>auto<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># type wget</span>
</span></span><span style="display:flex;"><span>wget is /usr/bin/wget
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># type for</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> is a shell keyword
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># type cd</span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">cd</span> is a shell <span style="color:#0086b3">builtin</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="文件内容处理">文件内容处理</h2>
<h3 id="sort命令">sort命令</h3>
<p><code>sort</code>常用于对文本截取、排序等。常用的选项及说明如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>依照数值大小进行排序。</td>
</tr>
<tr>
<td style="text-align:center">-r</td>
<td>以倒序的方式显示。</td>
</tr>
<tr>
<td style="text-align:center">-t</td>
<td>指定分隔符。</td>
</tr>
<tr>
<td style="text-align:center">-k</td>
<td>指定要取的字符。</td>
</tr>
</tbody>
</table>
<p>准备测试文件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat file.txt </span>
</span></span><span style="display:flex;"><span>b:3
</span></span><span style="display:flex;"><span>c:2
</span></span><span style="display:flex;"><span>a:4
</span></span><span style="display:flex;"><span>e:5
</span></span><span style="display:flex;"><span>d:1
</span></span><span style="display:flex;"><span>f:11
</span></span></code></pre></td></tr></table>
</div>
</div><p>将文件排序首列进行排序。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># sort file.txt </span>
</span></span><span style="display:flex;"><span>a:4
</span></span><span style="display:flex;"><span>b:3
</span></span><span style="display:flex;"><span>c:2
</span></span><span style="display:flex;"><span>d:1
</span></span><span style="display:flex;"><span>e:5
</span></span><span style="display:flex;"><span>f:11
</span></span></code></pre></td></tr></table>
</div>
</div><p>将文本第二列数字按照大小进行排序。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># sort -t &#34;:&#34; -n -k2 file.txt </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># -t指定分隔符，-n以数字大小进行排序，-k指定要排序的列</span>
</span></span><span style="display:flex;"><span>d:1
</span></span><span style="display:flex;"><span>c:2
</span></span><span style="display:flex;"><span>b:3
</span></span><span style="display:flex;"><span>a:4
</span></span><span style="display:flex;"><span>e:5
</span></span><span style="display:flex;"><span>f:11
</span></span></code></pre></td></tr></table>
</div>
</div><p>准备测试文件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat sort-test.txt</span>
</span></span><span style="display:flex;"><span>10.0.3.1 00:0F:AF:81:19:1F
</span></span><span style="display:flex;"><span>10.0.3.2 00:0F:AF:85:6C:25
</span></span><span style="display:flex;"><span>10.0.2.20 00:0F:AF:85:55:DE
</span></span><span style="display:flex;"><span>10.0.2.21 00:0F:AF:85:6C:09
</span></span><span style="display:flex;"><span>10.0.2.22 00:0F:AF:85:5C:41
</span></span><span style="display:flex;"><span>10.0.0.151 00:0F:AF:85:6C:F6
</span></span><span style="display:flex;"><span>10.0.0.152 00:0F:AF:83:1F:65
</span></span><span style="display:flex;"><span>10.0.1.10 00:30:15:A2:3B:B6
</span></span><span style="display:flex;"><span>10.0.1.12 00:30:15:A2:3A:A1
</span></span><span style="display:flex;"><span>10.0.1.1 00:0F:AF:81:19:1F
</span></span><span style="display:flex;"><span>10.0.2.2 00:0F:AF:85:6C:25
</span></span><span style="display:flex;"><span>10.0.3.3 00:0F:AF:85:70:42
</span></span><span style="display:flex;"><span>10.0.1.21 00:0F:AF:85:6C:09
</span></span><span style="display:flex;"><span>10.0.1.152 00:0F:AF:83:1F:65
</span></span><span style="display:flex;"><span>10.0.0.153 00:0F:AF:85:70:03
</span></span><span style="display:flex;"><span>10.0.3.10 00:30:15:A2:3B:B6
</span></span><span style="display:flex;"><span>10.0.1.11 00:30:15:A3:23:B7
</span></span><span style="display:flex;"><span>10.0.3.12 00:30:15:A2:3A:A1
</span></span></code></pre></td></tr></table>
</div>
</div><p>对该文件输出内容进行排序，可通过第<code>3</code>列的第一个字符以及第<code>4</code>列的所有字符进行排序。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># sort -t &#34;.&#34; -n -k3.1,3.1 -k4.1,4.3 sort-test.txt</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="uniq命令">uniq命令</h3>
<p><code>uniq</code>用于删除相邻的重复的行或统计文本，常用选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-c</td>
<td>计算重复的行。</td>
</tr>
</tbody>
</table>
<p>源文件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat uniq-test.txt </span>
</span></span><span style="display:flex;"><span><span style="color:#099">123</span>
</span></span><span style="display:flex;"><span>abc
</span></span><span style="display:flex;"><span>abc
</span></span><span style="display:flex;"><span><span style="color:#099">123</span>
</span></span><span style="display:flex;"><span>abc
</span></span><span style="display:flex;"><span><span style="color:#099">123</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>用<code>uniq</code>去重，并显示重复次数。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># sort uniq-test.txt | uniq -c</span>
</span></span><span style="display:flex;"><span>      <span style="color:#099">3</span> <span style="color:#099">123</span>
</span></span><span style="display:flex;"><span>      <span style="color:#099">3</span> abc
</span></span></code></pre></td></tr></table>
</div>
</div><p>要想用<code>uniq</code>去重，<strong>必须</strong>先用<code>sort</code>将重复的内容排列到一起。</p>
<h3 id="cut命令">cut命令</h3>
<p><code>cut</code>主要用于截取文本。</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-d</td>
<td>指定分隔符。</td>
</tr>
<tr>
<td style="text-align:center">-f</td>
<td>取第几列。</td>
</tr>
</tbody>
</table>
<p>取用户名及QQ号。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cat cut-test.txt </span>
</span></span><span style="display:flex;"><span>I am Snoopy, MY QQ is <span style="color:#099">793499077</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cut -d &#34; &#34; -f 3,7 cut-test.txt</span>
</span></span><span style="display:flex;"><span>Snoopy, <span style="color:#099">793499077</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们发现使用<code>cut</code>很难将<code>Snoopy</code>后的逗号处理掉。可通过以下方式实现删除逗号。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cut -d &#34; &#34; -f 3,7 cut-test.txt | sed &#39;s#,##g&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># cut -d &#34; &#34; -f 3,7 cut-test.txt | awk -F &#39;,&#39; &#39;{print $1,$2}&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># awk &#39;{print $3,$7}&#39; cut-test.txt | awk -F &#39;,&#39; &#39;{print $1,$2}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>实际生产过程中，很少使用到<code>cut</code>，通常会使用<code>awk</code>处理列。</p>
<h3 id="awk命令">awk命令</h3>
<p><code>Awk</code>是一种强大的文本处理工具，它以行为单位读取文本文件，根据用户指定的规则进行处理和操作。主要用于截取文本。</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-F</td>
<td>指定分隔符。</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>取出设备的<code>IP</code>地址。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># ifconfig | grep broadcast | awk &#39;{print $2}&#39;</span>
</span></span><span style="display:flex;"><span>10.0.0.201
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>取出访问日志服务器的<code>top10</code>的<code>IP</code>地址。</p>
<p>获取源文件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># wget tools.snoopyops.top/file/access.log</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看源文件格式。</p>
<pre tabindex="0"><code>[root@localhost ~]# head access.log
183.162.52.7 - - [10/Nov/2016:00:01:02 +0800] &#34;POST /api3/getadv HTTP/1.1&#34; 200 813 &#34;www.snoopyops.top&#34; &#34;-&#34; cid=0&amp;timestamp=1478707261865&amp;uid=2871142&amp;marking=androidbanner&amp;secrect=a6e8e14701ffe9f6063934780d9e2e6d&amp;token=f51e97d1cb1a9caac669ea8acc162b96 &#34;oldxu/5.0.0 (Android 5.1.1; Xiaomi Redmi 3 Build/LMY47V),Network 2G/3G&#34; &#34;-&#34; 10.100.134.244:80 200 0.027 0.027
10.100.0.1 - - [10/Nov/2016:00:01:02 +0800] &#34;HEAD / HTTP/1.1&#34; 301 0 &#34;117.121.101.40&#34; &#34;-&#34; - &#34;curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.16.2.3 Basic ECC zlib/1.2.3 libidn/1.18 libssh2/1.4.2&#34; &#34;-&#34; - - - 0.000
117.35.88.11 - - [10/Nov/2016:00:01:02 +0800] &#34;GET /article/ajaxcourserecommends?id=124 HTTP/1.1&#34; 200 2345 &#34;www.snoopyops.top&#34; &#34;http://www.snoopyops.top/code/1852&#34; - &#34;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36&#34; &#34;-&#34; 10.100.136.65:80 200 0.616 0.616
182.106.215.93 - - [10/Nov/2016:00:01:02 +0800] &#34;POST /socket.io/1/ HTTP/1.1&#34; 200 94 &#34;chat.snoopyops.top&#34; &#34;-&#34; - &#34;android-websockets-2.0&#34; &#34;-&#34; 10.100.15.239:80 200 0.004 0.004
10.100.0.1 - - [10/Nov/2016:00:01:02 +0800] &#34;HEAD / HTTP/1.1&#34; 301 0 &#34;117.121.101.40&#34; &#34;-&#34; - &#34;curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.16.2.3 Basic ECC zlib/1.2.3 libidn/1.18 libssh2/1.4.2&#34; &#34;-&#34; - - - 0.000
183.162.52.7 - - [10/Nov/2016:00:01:02 +0800] &#34;POST /api3/userdynamic HTTP/1.1&#34; 200 19501 &#34;www.snoopyops.top&#34; &#34;-&#34; cid=0&amp;timestamp=1478707261847&amp;uid=2871142&amp;touid=2871142&amp;page=1&amp;secrect=a6e8e14701ffe9f6063934780d9e2e6d&amp;token=3837a5bf27ea718fe18bda6c53fbbc14 &#34;oldxu/5.0.0 (Android 5.1.1; Xiaomi Redmi 3 Build/LMY47V),Network 2G/3G&#34; &#34;-&#34; 10.100.136.65:80 200 0.195 0.195
10.100.0.1 - - [10/Nov/2016:00:01:02 +0800] &#34;HEAD / HTTP/1.1&#34; 301 0 &#34;117.121.101.40&#34; &#34;-&#34; - &#34;curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.16.2.3 Basic ECC zlib/1.2.3 libidn/1.18 libssh2/1.4.2&#34; &#34;-&#34; - - - 0.000
114.248.161.26 - - [10/Nov/2016:00:01:02 +0800] &#34;POST /api3/getcourseintro HTTP/1.1&#34; 200 2510 &#34;www.snoopyops.top&#34; &#34;-&#34; cid=283&amp;secrect=86b720f312c2b25da3b20e59e7c89780&amp;timestamp=1478707261951&amp;token=4c144b3f4314178b9527d1e91ecc0fac&amp;uid=3372975 &#34;oldxu/5.0.2 (iPhone; iOS 8.4.1; Scale/2.00)&#34; &#34;-&#34; 10.100.136.65:80 200 0.007 0.008
120.52.94.105 - - [10/Nov/2016:00:01:02 +0800] &#34;POST /api3/getmediainfo_ver2 HTTP/1.1&#34; 200 633 &#34;www.snoopyops.top&#34; &#34;-&#34; cid=608&amp;secrect=e25994750eb2bbc7ade1a36708b999a5&amp;timestamp=1478707261945&amp;token=9bbdba949aec02735e59e0868b538e19&amp;uid=4203162 &#34;oldxu/5.0.2 (iPhone; iOS 10.0.1; Scale/3.00)&#34; &#34;-&#34; 10.100.136.65:80 200 0.049 0.049
10.100.0.1 - - [10/Nov/2016:00:01:02 +0800] &#34;HEAD / HTTP/1.1&#34; 301 0 &#34;117.121.101.40&#34; &#34;-&#34; - &#34;curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.16.2.3 Basic ECC zlib/1.2.3 libidn/1.18 libssh2/1.4.2&#34; &#34;-&#34; - - - 0.000
</code></pre><p>取出访问日志服务器的<code>top10</code>的<code>IP</code>地址。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># awk &#39;{print $1}&#39; access.log | sort | uniq -c | sort -nr | head -10</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 通过awk取出带有IP地址的列，排序后统计，将统计的结果以倒叙的方式显示，用head控制，显示前10行</span>
</span></span><span style="display:flex;"><span>   <span style="color:#099">4714</span> 10.100.0.1
</span></span><span style="display:flex;"><span>     <span style="color:#099">94</span> 122.234.145.54
</span></span><span style="display:flex;"><span>     <span style="color:#099">56</span> 171.34.14.120
</span></span><span style="display:flex;"><span>     <span style="color:#099">51</span> 115.34.187.133
</span></span><span style="display:flex;"><span>     <span style="color:#099">50</span> 58.61.60.183
</span></span><span style="display:flex;"><span>     <span style="color:#099">48</span> 27.38.56.2
</span></span><span style="display:flex;"><span>     <span style="color:#099">44</span> 119.131.143.179
</span></span><span style="display:flex;"><span>     <span style="color:#099">43</span> 58.217.137.221
</span></span><span style="display:flex;"><span>     <span style="color:#099">39</span> 117.174.26.235
</span></span><span style="display:flex;"><span>     <span style="color:#099">37</span> 223.73.113.60
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="wc命令">wc命令</h3>
<p><code>wc</code>用于统计文本行数</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-l</td>
<td>显示文件的行数。</td>
</tr>
</tbody>
</table>
<p>统计<code>/etc/services</code>文件的行数</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># wc -l /etc/services </span>
</span></span><span style="display:flex;"><span><span style="color:#099">11176</span> /etc/services
</span></span></code></pre></td></tr></table>
</div>
</div><p>统计<code>/etc/passwd</code>中以<code>nologin</code>结尾的有多少行。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>root@localhost ~<span style="color:#000;font-weight:bold">]</span><span style="color:#998;font-style:italic"># grep &#34;/sbin/nologin$&#34; /etc/passwd | wc -l</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<center><img src="https://images.snoopyops.top/wechat-snoopy.jpg" alt="image-20231028232834657" style="zoom:50%;" /></center>
    </div>
    
    

    
</div>

            </div>
            <div id="footer"><div class="container-footer">
    
    

    <div class="beian">
        
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=">
            

        </a>

        <a href="" target="_blank">
            
            <span class="some">icp...<span>
            
        </a>
    </div>

    <div class="info">
        <a href="https://github.com/loveminimal/hugo-theme-virgo">Copyright</a> © 2016 - <span id="info-date"></span>
    </div>

</div></div>
        </div>
        <div class="cool-after" style="background-color: rgba(255, 255, 255, 0.81);"></div>
    </body>
</html>
<link href="https://qiniu.techgrow.cn/readmore/dist/readmore.css" type="text/css" rel="stylesheet">
<script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script>
<script>
    var regex = /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i
    var isMobile = navigator.userAgent.match(regex);
    if (!isMobile) {
        try {
            var plugin = new ReadmorePlugin();
            plugin.init({
                id: "readmore-container",
                blogId: "25525-2853989927488-092",
                name: "史努比会点运维",
                keyword: "验证码",
                qrcode: "https://images.snoopyops.top/wechat/wechat_snoopyops.jpg",
                type: "hugo",
                height: "auto",
                expires: "7",
                interval: "60",
                random: "1"
            })
        } catch (e) {
            console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);
        }
    }
</script>
